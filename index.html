<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensor Data Sonification Mixer</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéµ Sensor Data Sonification Mixer</h1>
            <p>Mix and match sensor datastreams to create unique soundscapes</p>
        </header>

        <div class="mixer-interface">
            <!-- Left Panel: Available Datastreams -->
            <div class="datastream-library">
                <h3>Available Datastreams</h3>
                <div class="library-list" id="library-list">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <!-- Center Panel: Active Mixer -->
            <div class="active-mixer">
                <div class="mixer-header">
                    <!-- <h3>Active Mix</h3> -->
                    <div class="master-controls">
                        <button id="master-play">‚ñ∂Ô∏è Play All</button>
                        <button id="beat-toggle">ü•Å Beat Off</button>
                        <label>Master Volume: <input type="range" id="master-volume" min="0" max="100" value="50"></label>
                        <label>Beat Tempo: <input type="range" id="beat-tempo" min="60" max="200" value="120" step="5"> <span id="tempo-display">120</span> BPM</label>
                        <label>Playback Speed: <input type="range" id="playback-speed" min="100" max="2000" value="1000" step="100"></label>
                        <label>Musical Scale: 
                            <select id="musical-scale">
                                <option value="pentatonic">Pentatonic</option>
                                <option value="major">Major</option>
                                <option value="minor">Minor</option>
                                <option value="blues">Blues</option>
                                <option value="dorian">Dorian</option>
                            </select>
                        </label>
                    </div>
                </div>
                
                <div class="mixer-channels" id="mixer-channels">
                    <div class="empty-mixer">
                        <p>üëà Add datastreams from the library to start mixing</p>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Visualization -->
            <div class="visualization-panel">
                <h3>Visualization</h3>
                <div class="chart-container">
                    <canvas id="main-chart"></canvas>
                </div>
                <div class="audio-info">
                    <div class="info-item">
                        <span>Active Streams:</span>
                        <span id="active-count">0</span>
                    </div>
                    <div class="info-item">
                        <span>Playing:</span>
                        <span id="playback-position">-- / --</span>
                    </div>
                    <div class="info-item">
                        <span>Status:</span>
                        <span id="status">Ready</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Section -->
        <div class="help-section">
            <h3>How to Use</h3>
            <div class="help-grid">
                <div class="help-item">
                    <strong>1. Select Data</strong>
                    <p>Click datastreams from the library to add them to your mix</p>
                </div>
                <div class="help-item">
                    <strong>2. Choose Sound</strong>
                    <p>Select how each datastream maps to audio (pitch, rhythm, volume, etc.)</p>
                </div>
                <div class="help-item">
                    <strong>3. Mix & Play</strong>
                    <p>Adjust individual volumes and play your data symphony</p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/dataService.js"></script>
    <script src="js/mixerVisualizer.js"></script>
    <script src="js/mixerSonifier.js"></script>
    <script src="js/mixerApp.js"></script>
</body>
</html>